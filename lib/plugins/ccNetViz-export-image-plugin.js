!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var n={init:function(e,t,i){this.instance=e,this.config=Object.assign({},t),this.source.width=i.width,this.source.height=i.height,this.instance.imageExport=this},setScale:function(e){this.scale=e;var t=this.config,i=JSON.parse(JSON.stringify(t));for(var n in t.styles){var s=i.styles[n],o=t.styles[n];void 0!==s.texture&&0===s.texture.indexOf("blob:")&&delete s.texture,void 0!==o.minSize&&(s.minSize=o.minSize*this.scale),void 0!==o.maxSize&&(s.maxSize=o.maxSize*this.scale),void 0!==o.size&&(s.size=o.size*this.scale),void 0!==o.width&&(s.width=o.width*this.scale),void 0!==o.label&&void 0!==o.label.font&&void 0!==o.label.font.size&&(s.label.font.size=o.label.font.size*this.scale),void 0!==o.arrow&&(void 0!==o.arrow.minSize&&(s.arrow.minSize=o.arrow.minSize*this.scale),void 0!==o.arrow.maxSize&&(s.arrow.maxSize=o.arrow.maxSize*this.scale))}return this._config=i,this.target.width=this.source.width*this.scale,this.target.height=this.source.height*this.scale,this},setExtension:function(e){return this.extension=e,this},setName:function(e){return this.name=e,this},setQuality:function(e){return this.quality=e,this},setResolution:function(e,t){return this.target.width=e,this.target.height=t,this},export:function(){var e=this,t=this.instance.findArea(1,1,0,0,!0,!0),i=this._setNodes(t.nodes),n=this._setEdges(t.edges),s=document.createElement("canvas");s.width=this.target.width,s.height=this.target.height,s.style.visibility="hidden",document.body.appendChild(s);var o=new ccNetViz(s,this._config||this.config);o.set(i,n).then((function(){o.draw(),setTimeout((function(){s.getContext("webgl",{preserveDrawingBuffer:!0}),s.toBlob((function(t){var i=URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.download="".concat(e.name,".").concat(e.extension),n.style.display="none",document.body.appendChild(n),n.click(),n.remove()}),"image/".concat(e.extension),e.quality),o.remove(),s.remove()}),500)}))},_setNodes:function(e){this.nodes=Object.assign({},e);var t=[];for(var i in this.nodes)this.nodes[i]=this.nodes[i].node,delete this.nodes[i].index,delete this.nodes[i].uniqid,delete this.nodes[i].weight,delete this.nodes[i].sI,delete this.nodes[i].px,delete this.nodes[i].py,t.push(this.nodes[i]);return t},_setEdges:function(e){this.edges=Object.assign({},e);var t=[];for(var i in this.edges)this.edges[i]=this.edges[i].edge,delete this.edges[i].nidx,delete this.edges[i].sI,delete this.edges[i].t,delete this.edges[i].uniqid,t.push(this.edges[i]);return t},nodes:[],edges:[],config:{},extension:"jpeg",quality:1,scale:1,name:"ccnetviz-graph",source:{width:0,height:0},target:{width:0,height:0},instance:function(){}};"undefined"==typeof ccNetViz?console.warn("ccNetViz export image plugin could not be implemented."):(void 0===ccNetViz.plugin&&(ccNetViz.plugin={}),ccNetViz.plugin.imageExport=n),t.default={ccNetVizImageExport:n}}]);